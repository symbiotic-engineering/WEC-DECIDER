# This file controls what data is extracted from PUDL and how it is processed.

# MODEL YEAR
# This is used to determine which plants are retired. Can also be used for changes
# in demand over time in the future.
# model_year: 
#   - 2030
#   - 2045
model_year: [2030, 2045]

model_first_planning_year: 
  - 2030
  - 2045


# DATA YEAR
# Pick one or more years of generator data to use when creating clusters. If
# more than one year is used then things like heat rate will be calculated as the
# average (weighted by generation per year).
eia_data_years:
  - 2018


# CAPACITY TYPE
# capacity_col: capacity_mw

# LABEL SMALL HYDRO
# Convert some of the Conventional Hydroelectric to a category "Small Hydroelectric"
small_hydro: True
small_hydro_mw: 30
small_hydro_regions:
  - CA_N
  - WEC_CALN
  - CA_S


# REGIONS
# Select the regions and any regional aggregations that should be performed.
# This currenly only works for IPM regions, either as the regions used in GenX or as
# aggregations.

# Can also use this to rename regions used in the model by only including a single
# region in the associated aggretation list below.


# model_regions:
#   - CA_N
#   - CA_S

model_regions: [CA_N, CA_S]
  # - WECC_ID_MT
  # - WECC_UT_WY
  # - WECC_CO_NM
  # - WECC_CO
  # - WECC_NM
  # - WECC_PNW
  # - WECC_NNV
  # - WECC_SNV
  # - WECC_AZ


region_aggregations:
  CA_N: [WEC_CALN, WEC_BANC]
  CA_S: [WEC_LADW, WECC_SCE, WEC_SDGE, WECC_IID]
  # WECC_ID_MT: [WECC_ID, WECC_MT]
  # WECC_UT_WY: [WECC_UT, WECC_WY]
  # WECC_CO_NM: [WECC_CO, WECC_NM]


# CLUSTERING
# Existing thermal power plants are clusted to reduce the number of distinct plants.
# The existing method (for now) is to specify the number of clusters for each type
# of thermal plant as a default and then specify specific values for any regions
# that are different.

# Technologies that aren't listed here won't be included in the final cluster
# outputs, even if they are included in alt_clusters below.

num_clusters:
  Conventional Steam Coal: 1
  Natural Gas Fired Combined Cycle: 1
  Natural Gas Fired Combustion Turbine: 1
  Nuclear: 1
  Conventional Hydroelectric: 1
  Wood/Wood Waste Biomass: 1
  Natural Gas Internal Combustion Engine: 1
  Natural Gas Steam Turbine: 1
  Geothermal: 1
  Solar Photovoltaic: 1
  Onshore Wind Turbine: 1
  Offshore Wind Turbine: 1
  Solar Thermal with Energy Storage: 1
  Solar Thermal without Energy Storage: 1
  Small Hydroelectric: 1
  Landfill Gas: 1
  Municipal Solid Waste: 1
  Biomass: 1
  Peaker: 1
  Thermal: 1


# Group these technologies
group_technologies: True
tech_groups:
  Biomass:
    - Wood/Wood Waste Biomass
    - Landfill Gas
    - Municipal Solid Waste
    - Other Waste Biomass
  Peaker:
    - Natural Gas Fired Combustion Turbine
    - Natural Gas Internal Combustion Engine
    - Petroleum Liquids
  Steam_Turbine:
    - Conventional Steam Coal
    - Natural Gas Steam Turbine

regional_no_grouping: ~

# Add code to ensure region names here are included above
alt_clusters:
  CA_N:
    Natural Gas Fired Combined Cycle: 2
    Natural Gas Fired Combustion Turbine: 2
  CA_S:
    Natural Gas Fired Combined Cycle: 2
    Natural Gas Fired Combustion Turbine: 2


# CAPACITY FACTOR
# Calculate the capacity factor of technology types listed here. If derate_capacity is
# True, multiply the calculated capacity of each cluster by the CF
capacity_factor_techs:
  - Small Hydroelectric
  - Biomass
  - Geothermal

# Default value to limit the years used to calculate capacity factors.
# Use "~" (null, converted to None in Python) to use all data years. PUDL currently has
# generation data from 2011 through the most recent final release of 923/860.
capacity_factor_default_year_filter: [2020]

# Select the year filters for specific technologies. Grouped technologies should be
# used rather than in individual categories (e.g. Peaker rather than Combustion Turbine).
# Again, use "~" to use all years.
alt_year_filters:
  Small Hydroelectric: ~
  Conventional Hydroelectric: ~
  Biomass: ~
  Geothermal: ~

derate_capacity: True
derate_techs:
  - Peaker
  - Small Hydroelectric
  - Biomass
  - Steam_Turbine

# RETIREMENT AGES
# The age at which each technolgy type is expected to retire. Planned retirements
# included in EIA860 will be used if they are before the expected end of life.

retirement_ages:
  Conventional Hydroelectric: 100
  Small Hydroelectric: 100
  Conventional Steam Coal: 60
  Natural Gas Fired Combined Cycle: 100
  Natural Gas Fired Combustion Turbine: 100
  Petroleum Liquids: 40
  Natural Gas Internal Combustion Engine: 40
  Nuclear: 60
  Onshore Wind Turbine: 30
  Hydroelectric Pumped Storage: 40
  Natural Gas Steam Turbine: 40
  Solar Photovoltaic: 40
  Solar Thermal without Energy Storage: 40
  Geothermal: 100
  Municipal Solid Waste: 40
  Landfill Gas: 40
  Batteries: 40
  Wood/Wood Waste Biomass: 40
  Petroleum Coke: 40
  All Other: 40
  Natural Gas with Compressed Air Storage: 40
  Coal Integrated Gasification Combined Cycle: 40
  Other Waste Biomass: 40
  Other Gases: 40
  Other Natural Gas: 40
  Solar Thermal with Energy Storage: 40
  Flywheels: 40
  Offshore Wind Turbine: 30
  Hydrokinetic: 40


# CLUSTER TAGS
# All of the values will be 0 by default. If non-zero, add here.

model_tag_names:
  - THERM
  - DISP
  - NDISP
  - STOR
  - DR
  - HYDRO
  - Commit

default_model_tag: 0

model_tag_values:
  THERM:
    Conventional Steam Coal: 1
    Natural Gas Fired Combined Cycle: 1
    Natural Gas Fired Combustion Turbine: 1
    Petroleum Liquids: 1
    Natural Gas Internal Combustion Engine: 1
    Nuclear: 1
    Natural Gas Steam Turbine: 1
    Wood/Wood Waste Biomass: 1
    Petroleum Coke: 1
    Geothermal: 1
    Municipal Solid Waste: 1
    Landfill Gas: 1
    Coal Integrated Gasification Combined Cycle: 1
    Other Waste Biomass: 1
    Other Gases: 1
    Other Natural Gas: 1
    NaturalGas_CCAvgCF: 1
    NaturalGas_CTAvgCF: 1
    NaturalGas_CCCCSAvgCF: 1
    Peaker: 1
    Biomass: 1
  DISP:
    Onshore Wind Turbine: 1
    Offshore Wind Turbine: 1
    Solar Photovoltaic: 1
    Solar Thermal without Energy Storage: 1
  NDISP:
    Geothermal: 1
    Wood/Wood Waste Biomass: 1
    Small Hydroelectric: 1
  STOR:
    Hydroelectric Pumped Storage: 1
    Battery_*: 1
  HYDRO:
    Conventional Hydroelectric: 1
    Small Hydroelectric: 1
  Commit:
    Conventional Steam Coal: 1
    Natural Gas Fired Combined Cycle: 1
    Natural Gas Fired Combustion Turbine: 1
    Petroleum Liquids: 1
    Natural Gas Internal Combustion Engine: 1
    Nuclear: 1
    Natural Gas Steam Turbine: 1
    Petroleum Coke: 1
    Coal Integrated Gasification Combined Cycle: 1
  VRE:
    Solar Photovoltaic: 1
    Solar Thermal without Energy Storage: 1
    Solar Thermal with Energy Storage: 1
    Onshore Wind Turbine: 1

    

# PROPOSED GENERATOR VARIABLES

eia_860m_fn: may_generator2019.xlsx

# The status codes below exclude plants where regulatory approvals have not been
# initiated or received. "Other" is also excluded.
proposed_status_included:
  - V # Under construction, more than 50 percent complete
  - TS # Construction complete, but not yet in commercial operation
  - U # Under construction, less than or equal to 50 percent complete
  - T # Regulatory approvals received. Not under construction

# Heat rates are from EIA's AEO 2019 Cost and Performace report (Table 8.2)
# or NREL's 2018 ATB. ATB technologies use 2020 heat rate values.
# All AEO heat rates are for advanced technologies and use values from the final
# heat rate column
proposed_gen_heat_rates:
  Natural Gas Fired Combined Cycle: 6.41 # ATB
  Natural Gas Fired Combustion Turbine: 9.66 # ATB
  Natural Gas Internal Combustion Engine: 8.160 # AEO


proposed_min_load:
  Natural Gas Fired Combined Cycle: 0.3 # From GE
  Natural Gas Fired Combustion Turbine: 0.3 # GE aero range is .15-.5, E3 has 0.3
  Natural Gas Internal Combustion Engine: 0.18 # From E3 assumptions


# EXTRA ADDITIONS AND RETIREMENTS

# Use this section to hard-code retirements that are not included in the most recent
# annual verion of EIA 860. The format is
# [plant_id_eia, generator_id, planned_retirement_date]
additional_retirements:
  - [55853, 1, 2020]
  - [55853, 2, 2020]

# Additions that are included in 860m but don't get caught with a spatial join.
# additional_planned:
  - [56545, 1, WECC_CO_NM]

######################################################################################
# LOAD GROWTH ASSUMPTIONS
# Include any load growth assumptions here

# Load from IPM is for 2011. The growth rates from 2011-2018 can be calculated using
# historical data
default_load_year: 2012
regular_load_growth_start_year: 2019
growth_scenario: REF2020

historical_load_region_map:
  TRE: [ERC_PHDL, ERC_REST, ERC_WEST]
  FLRC: [FRCC] #FRCC
  MWRCE: [MIS_WUMS]
  MWRCW: [MIS_MAPP, SPP_WAUE, SPP_NEBR, MIS_MIDA, MIS_IA, MIS_MNWI]
  NPCCNE: [NENG_ME, NENG_CT, NENGREST]
  NPCCNYWE: [NY_Z_J]
  NPCCLI: [NY_Z_K]
  NPCCUPNY: [
    NY_Z_A,
    NY_Z_B,
    NY_Z_C&E,
    NY_Z_D,
    NY_Z_F,
    NY_Z_G-I,
  ]
  RFCET: [PJM_WMAC, PJM_EMAC, PJM_SMAC, PJM_PENE, PJM_Dom]
  RFCMI: [MIS_LMI]
  RFCWT: [PJM_West, PJM_AP, PJM_ATSI, PJM_COMD]
  SERCDLT: [MIS_WOTA, MIS_LA, MIS_AMSO, MIS_AR, MIS_D_MS]
  SERCGW: [MIS_MO, S_D_AECI, MIS_IL, MIS_INKY]
  SERCSOES: [S_SOU]
  SERCCNT: [S_C_TVA, S_C_KY]
  SERCVC: [S_VACA]
  SWPPNO: [SPP_N]
  SWPPSO: [SPP_SPS, SPP_WEST]
  WECCSW: [WECC_AZ, WECC_NM, WECC_SNV]
  WECCCA: [WEC_CALN, WEC_BANC, WECC_IID, WECC_SCE, WEC_LADW, WEC_SDGE]
  WENWPP: [WECC_PNW, WECC_MT, WECC_ID, WECC_WY, WECC_UT, WECC_NNV]
  WECCRKS: [WECC_CO]

future_load_region_map:
  TRE: [ERC_PHDL, ERC_REST, ERC_WEST]
  FLRC: [FRCC] #FRCC
  MCW: [MIS_WUMS, MIS_MNWI, MIS_IA] #MISW
  MCE: [MIS_LMI] #MISE
  PJMCE: [PJM_COMD] #PJMC
  MCC: [MIS_IL, MIS_MO, S_D_AECI, MIS_INKY] #MISC
  SWPPNO: [MIS_MAPP, SPP_WAUE, SPP_NEBR, MIS_MIDA] #SPPN
  SWPPC: [SPP_N] #SPPC
  SWPPSO: [SPP_WEST, SPP_SPS] #SPPS
  MCS: [MIS_AMSO, MIS_WOTA, MIS_LA, MIS_AR, MIS_D_MS] #MISS
  SERCSOES: [S_SOU] #SRSE
  SERCE: [S_VACA] #SRCA
  PJMD: [PJM_Dom]
  PJMW: [PJM_West, PJM_AP, PJM_ATSI]
  PJME: [PJM_WMAC, PJM_EMAC, PJM_SMAC, PJM_PENE]
  SERCCNT: [S_C_TVA, S_C_KY] #SRCE
  NPCCUPNY: [
      NY_Z_A,
      NY_Z_B,
      NY_Z_C&E,
      NY_Z_D,
      NY_Z_F,
      NY_Z_G-I,
  ] #NYUP
  NENYCLI: [NY_Z_J, NY_Z_K] #NYCW
  NPCCNE: [NENG_ME, NENGREST, NENG_CT] #ISNE
  WECCRKS: [WECC_CO] #RMRG
  WECCB: [WECC_ID, WECC_WY, WECC_UT, WECC_NNV] #BASN
  WENWPP: [WECC_PNW, WECC_MT] #NWPP
  WECCCAN: [WEC_CALN, WEC_BANC] #CANO
  WECCCAS: [WECC_IID, WECC_SCE, WEC_LADW, WEC_SDGE] #CASO
  WECCSW: [WECC_AZ, WECC_NM, WECC_SNV] #SRSG


# Which year of AEO to use. Note that different years have different scenario names
# so those may need to be modified accordingly.
load_eia_aeo_year: 2020
fuel_eia_aeo_year: 2020

## Additional inputs (Khai)


cost_multiplier_fn: AEO_2020_regional_cost_corrections.csv
cost_multiplier_technology_map:
  Ultra-supercritical coal (USC): [Coal_newAvgCF, Coal_newHighCF]
  # IGCC: [Coal_IGCCAvgCF, Coal_IGCCAvgCF]
  USC with 30% CCS: [Coal_CCS30AvgCF, Coal_CCS30HighCF]
  USC with 90% CCS: [Coal_CCS90AvgCF, Coal_CCS90HighCF]
  CT - aeroderivative: []
  CT - industrial frame: [NaturalGas_CTAvgCF, NaturalGas_CTHighCF]
  CC - single shaft: []
  CC - multi shaft: [NaturalGas_CCAvgCF, NaturalGas_CCHighCF]
  CC with 90% CCS: [NaturalGas_CCCCSAvgCF, NaturalGas_CCCCSHighCF, NGCCS100, NaturalGas_CCS100, NaturalGas_CCS100_low,NaturalGas_CCS100_high]
  Fuel cells: []
  Advanced nuclear: [Nuclear_*, Nuclear_mid, Nuclear_low, Nuclear_high]
  Biomass: [Biopower_CofireOld, Biopower_CofireNew, Biopower_Dedicated]
  MSW - landfill gas: []
  Wind: [LandbasedWind]
  Wind offshore: [OffShoreWind]
  Solar thermal: [CSP]
  Solar PV - tracking: [UtilityPV, CommPV, ResPV]
  Battery storage: [Battery_*]
  Geothermal: [Geothermal_HydroBinary, Geothermal_HydroFlash, Geothermal_NFEGSBinary, Geothermal_DeepEGSBinary, Geothermal_NFEGSFlash, Geothermal_DeepEGSFlash]
  Conventional hydropower: [Hydropower]

aeo_fuel_region_map:
  mountain: [WECC_AZ, WECC_NM, WECC_CO, WECC_SNV, WECC_NW]
  pacific: [CA_N, CA_S]


scenario_definitions_fn: ./test_scenario_inputs.csv
input_folder: .
use_cost_multiplier_regions: true
misc_gen_inputs_fn: misc_gen_inputs.csv
demand_segments_fn: demand_segments_voll.csv
# regional_load_source: "efs"
# efs_data_fn: ./efs/EFS_REF_load_2020.parquet
# regional_load_includes_demand_response: true

PUDL_DB: ./pudl.sqlite
PG_DB: ./_pg_misc_tables.sqlite3
RESOURCE_GROUP_PROFILES: ./resource_profiles
EFS_DATA: ./efs
DISTRIBUTED_GEN_DATA: ./dist_gen
regional_load_source: USER
regional_load_fn: ./test_regional_load_profiles.csv
electrification: reference  

eia_series_scenario_names:
  reference: REF2020
  low_price: LOWPRICE
  high_price: HIGHPRICE
  high_resource: HIGHOGS
  low_resource: LOWOGS

target_usd_year: 2017
aeo_fuel_usd_year: 2019
atb_data_year: 2020
atb_existing_year: 2020
capacity_col: winter_capacity_mw

eia_atb_tech_map:
  Battery: Battery_*
  Biomass: Biopower_Dedicated
  Solar Thermal without Energy Storage: CSP_Class1
  Conventional Steam Coal: Coal_newAvgCF
  Natural Gas Fired Combined Cycle: NaturalGas_CCAvgCF #[NaturalGas_CCAvgCF, NETL_NGCC]
  Natural Gas Fired Combustion Turbine: NaturalGas_CTAvgCF
  Peaker: NaturalGas_CTAvgCF
  Natural Gas Internal Combustion Engine: NaturalGas_CTAvgCF
  Landfill Gas: NaturalGas_CTAvgCF
  Petroleum Liquids: NaturalGas_CTAvgCF
  Municipal Solid Waste: Biopower_Dedicated
  Other Waste Biomass: Biopower_Dedicated
  Wood/Wood Waste Biomass: Biopower_Dedicated
  Solar Photovoltaic: UtilityPV_Class1
  Geothermal: Geothermal_HydroFlash # assume installed capacity is dominated by flash

  # Check head-height, which is difference between NSD2 and 4
  Conventional Hydroelectric: Hydropower_NSD4 # Large variability based on choice
  Hydroelectric Pumped Storage: Hydropower_NSD4 # Large variability based on choice
  Small Hydroelectric: Hydropower_NSD3 # Large variability based on choice
  Onshore Wind Turbine: LandbasedWind_Class4 # All onshore wind is the same
  Offshore Wind Turbine: OffShoreWind_Class12 # Mid-range of floating offshore wind
  Nuclear: Nuclear_*
  Natural Gas Steam Turbine: Coal_newAvgCF # No gas steam turbines in ATB, using coal instead
  Solar Thermal with Energy Storage: CSP_Class1 # NEED TO CHECK THIS DEFAULT

atb_new_gen:
  - [NaturalGas, CCAvgCF, Mid, 500]
  - [NaturalGas, CTAvgCF, Mid, 100]
  - [OffShoreWind, OTRG10, Mid, 1]
  - [UtilityPV, Daggett, Mid, 1]

atb_cap_recovery_years: 20

cost_multiplier_region_map:
  TRE: [ERC_PHDL, ERC_REST, ERC_WEST]
  FRCC: [FRCC]
  MISW: [MIS_WUMS, MIS_MNWI, MIS_IA]
  MISE: [MIS_LMI]
  PJMC: [PJM_COMD]
  MISC: [MIS_IL, MIS_MO, S_D_AECI, MIS_INKY]
  SPPN: [MIS_MAPP, SPP_WAUE, SPP_NEBR, MIS_MIDA]
  SPPC: [SPP_N]
  SPPS: [SPP_WEST, SPP_SPS]
  MISS: [MIS_AMSO, MIS_WOTA, MIS_LA, MIS_AR, MIS_D_MS]
  SRSE: [S_SOU]
  SRCA: [S_VACA]
  PJMD: [PJM_Dom]
  PJMW: [PJM_West, PJM_AP, PJM_ATSI]
  PJME: [PJM_WMAC, PJM_EMAC, PJM_SMAC, PJM_PENE]
  SRCE: [S_C_TVA, S_C_KY]
  NYUP: [NY_Z_A, NY_Z_B, NY_Z_C&E, NY_Z_D, NY_Z_F, NY_Z_G-I,]
  NYCW: [NY_Z_J, NY_Z_K]
  ISNE: [NENG_ME, NENGREST, NENG_CT]
  RMRG: [WECC_CO]
  BASN: [WECC_ID, WECC_WY, WECC_UT, WECC_NNV]
  NWPP: [WECC_PNW, WECC_MT]
  CANO: [WEC_CALN, WEC_BANC, CA_N]
  CASO: [WECC_IID, WECC_SCE, WEC_LADW, WEC_SDGE, CA_S]
  SRSG: [WECC_AZ, WECC_NM, WECC_SNV]
  # WECC_CO_NM: [WECC_CO, WECC_NM]



settings_management:
  2030:
    conv_hydro_rps_eligible:
      no:
        model_tag_values:
          ESR_1:
            Conventional Hydroelectric: 0
      yes:
        model_tag_values:
          ESR_1:
            Conventional Hydroelectric: 1
    tx_expansion:
      high:
        tx_expansion_per_period: 1.0
      limited:
        tx_expansion_per_period: 0.25
    growth:
      # normal:
      #     alt_num_clusters:
      #       WECC_CO_NM:
      #         Natural Gas Fired Combined Cycle: 1
      #         Conventional Steam Coal: 1
      # half_wecc:
      #   default_growth_rates:
      #     WECC_California: 0.0015
      #   alt_num_clusters:
      #     WECC_CO_NM:
      #       Natural Gas Fired Combined Cycle: 1
      #       Conventional Steam Coal: 1
      normal: ~
        # alt_growth_rate: ~
          # WECC_AZ: 0.02
      half_wecc:
        default_growth_rates:
        WECC_California: 0.0015 # 0.003
    ng_price:
      reference:
        aeo_fuel_scenarios:
          naturalgas: reference
      low:
        aeo_fuel_scenarios:
          naturalgas: high_resource
      high:
        aeo_fuel_scenarios:
          naturalgas: low_resource
    ccs_capex:
      mid:
        atb_modifiers:
          ngccccs:
            technology: NaturalGas
            tech_detail: CCCCSAvgCF
            capex_mw: [mul, 1]
          NGCCS100:
            technology: NaturalGas
            tech_detail: CCS100
            capex_mw: [mul, 1]
      low:
        atb_modifiers:
          ngccccs:
            technology: NaturalGas
            tech_detail: CCCCSAvgCF
            capex_mw: [mul, 0.85]
          NGCCS100:
            technology: NaturalGas
            tech_detail: CCS100
            capex_mw: [mul, 0.85]
      high:
        atb_modifiers:
          ngccccs:
            technology: NaturalGas
            tech_detail: CCCCSAvgCF
            capex_mw: [mul, 1.2]
          NGCCS100:
            technology: NaturalGas
            tech_detail: CCS100
            capex_mw: [mul, 1.2]
    renewable_capex:
      mid:
        atb_new_gen:
          - [NaturalGas, CCCCSAvgCF, Mid, 500] # ATB CCCCS conservative case represents current technology.
          - [NaturalGas, CCAvgCF, Mid, 500]
          - [NaturalGas, CTAvgCF, Mid, 100]
          - [LandbasedWind, LTRG1, Mid, 1]
          - [OffShoreWind, OTRG10, Mid, 1]
          - [UtilityPV, Chicago, Mid, 1]
          - [Battery, "*", Mid, 1]
      low:
        atb_new_gen:
          - [NaturalGas, CCCCSAvgCF, Mid, 500] # ATB CCCCS conservative case represents current technology.
          - [NaturalGas, CCAvgCF, Mid, 500]
          - [NaturalGas, CTAvgCF, Mid, 100]
          - [LandbasedWind, LTRG1, Mid, 1]
          - [OffShoreWind, OTRG10, Mid, 1]
          - [UtilityPV, Chicago, Mid, 1]
          - [Battery, "*", Mid, 1]
    nuclear_capex:
      mid:
        additional_new_gen:
          - Nuclear_mid
      low:
        additional_new_gen:
          - Nuclear_low
    ca_nuclear_allowed:
      no:
        regional_tag_values:
          CA_S:
            New_Build:
              Nuclear: 0
          CA_N:
            New_Build:
              Nuclear: 0
      yes:
        regional_tag_values:
          # WECC_AZ:
          #   New_Build:
          #     NaturalGas_CCCCS: 0
          CA_S:
            New_Build:
              Nuclear: 1
          CA_N:
            New_Build:
              Nuclear: 1
  2045:
    conv_hydro_rps_eligible:
      no:
        model_tag_values:
          ESR_1:
            Conventional Hydroelectric: 0
      yes:
        model_tag_values:
          ESR_1:
            Conventional Hydroelectric: 1
    tx_expansion:
      high:
        tx_expansion_per_period: 1.0
      limited:
        tx_expansion_per_period: 0.25
    growth:
      normal:
        alt_num_clusters:
          CA_S:
            Conventional Steam Coal: 0
          # WECC_AZ:
          #   Natural Gas Fired Combined Cycle: 1
      half:
        default_growth_rates:
          WECC_California: 0.0015 # 0.003
        alt_num_clusters:
          CA_S:
            Conventional Steam Coal: 0
          # WECC_AZ:
          #   Natural Gas Fired Combined Cycle: 1
    ng_price:
      reference:
        aeo_fuel_scenarios:
          naturalgas: reference
      low:
        aeo_fuel_scenarios:
          naturalgas: high_resource
      high:
        aeo_fuel_scenarios:
          naturalgas: low_resource
    ccs_capex:
      mid:
        atb_modifiers:
          ngccccs:
            technology: NaturalGas
            tech_detail: CCCCSAvgCF
            capex_mw: [mul, 1]
          NGCCS100:
            technology: NaturalGas
            tech_detail: CCS100
            capex_mw: [mul, 1]
      low:
        atb_modifiers:
          ngccccs:
            technology: NaturalGas
            tech_detail: CCCCSAvgCF
            capex_mw: [mul, 0.8]
          NGCCS100:
            technology: NaturalGas
            tech_detail: CCS100
            capex_mw: [mul, 0.8]
      high:
        atb_modifiers:
          ngccccs:
            technology: NaturalGas
            tech_detail: CCCCSAvgCF
            capex_mw: [mul, 1.15]
          NGCCS100:
            technology: NaturalGas
            tech_detail: CCS100
            capex_mw: [mul, 1.15]
    renewable_capex:
      mid:
        atb_new_gen:
          - [NaturalGas, CCCCSAvgCF, Mid, 500] # ATB CCCCS conservative case represents current technology.
          - [NaturalGas, CCAvgCF, Mid, 500]
          - [NaturalGas, CTAvgCF, Mid, 100]
          - [LandbasedWind, LTRG1, Mid, 1]
          - [OffShoreWind, OTRG10, Mid, 1]
          - [UtilityPV, Chicago, Mid, 1]
          - [Battery, "*", Mid, 1]
      low:
        atb_new_gen:
          - [NaturalGas, CCCCSAvgCF, Mid, 500] # ATB CCCCS conservative case represents current technology.
          - [NaturalGas, CCAvgCF, Mid, 500]
          - [NaturalGas, CTAvgCF, Mid, 100]
          - [LandbasedWind, LTRG1, Mid, 1]
          - [OffShoreWind,OTRG10, Mid, 1]
          - [UtilityPV, Chicago, Mid, 1]
          - [Battery, "*", Mid, 1]
    nuclear_capex:
      mid:
        additional_new_gen:
          - Nuclear_mid
      low:
        additional_new_gen:
          - Nuclear_low
    ca_nuclear_allowed:
      no:
        regional_tag_values:
          CA_S:
            New_Build:
              Nuclear: 0
          CA_N:
            New_Build:
              Nuclear: 0
      yes:
        regional_tag_values:
          # WECC_AZ:
          #   New_Build:
          #     NaturalGas_CCCCS: 0
          CA_S:
            New_Build:
              Nuclear: 1
          CA_N:
            New_Build:
              Nuclear: 1

atb_battery_wacc: UtilityPV

generator_columns: [
            "region",
            "Resource",
            "technology",
            "cluster",
            "R_ID",
            "Zone",
            "Num_VRE_Bins",
            "CapRes_1",
            "CapRes_2",
            "THERM",
            "VRE",
            "MUST_RUN",
            "STOR",
            "FLEX",
            "LDS",
            "HYDRO",
            "ESR_1",
            "ESR_2",
            "MinCapTag_1",
            "MinCapTag_2",
            "Min_Share",
            "Max_Share",
            "Existing_Cap_MWh",
            "Existing_Cap_MW",
            "Existing_Charge_Cap_MW",
            "num_units",
            "unmodified_existing_cap_mw",
            "New_Build",
            "Cap_Size",
            "Min_Cap_MW",
            "Max_Cap_MW",
            "Max_Cap_MWh",
            "Min_Cap_MWh",
            "Max_Charge_Cap_MW",
            "Min_Charge_Cap_MW",
            "Min_Share_percent",
            "Max_Share_percent",
            "capex_mw",
            "Inv_Cost_per_MWyr",
            "Fixed_OM_Cost_per_MWyr",
            "capex_mwh",
            "Inv_Cost_per_MWhyr",
            "Fixed_OM_Cost_per_MWhyr",
            "Var_OM_Cost_per_MWh",
            "Var_OM_Cost_per_MWh_In",
            "Inv_Cost_Charge_per_MWyr",
            "Fixed_OM_Cost_Charge_per_MWyr",
            # "Externality_cost_MWh",
            "Start_Cost_per_MW",
            "Start_Fuel_MMBTU_per_MW",
            "Heat_Rate_MMBTU_per_MWh",
            "heat_rate_mmbtu_mwh_iqr",
            "heat_rate_mmbtu_mwh_std",
            "Fuel",
            "Min_Power",
            "Self_Disch",
            "Eff_Up",
            "Eff_Down",
            "Hydro_Energy_to_Power_Ratio",
            "Ratio_power_to_energy",
            "Min_Duration",
            "Max_Duration",
            "Max_Flexible_Demand_Delay",
            "Max_Flexible_Demand_Advance",
            "Flexible_Demand_Energy_Eff",
            "Ramp_Up_Percentage",
            "Ramp_Dn_Percentage",
            "Up_Time",
            "Down_Time",
            "NACC_Eff",
            "NACC_Peak_to_Base",
            "Reg_Max",
            "Rsv_Max",
            "Reg_Cost",
            "Rsv_Cost",
            "spur_miles",
            "spur_capex",
            "offshore_spur_miles",
            "offshore_spur_capex",
            "tx_miles",
            "tx_capex",
            "interconnect_annuity"
        ]


# model_tag_names:
#   - THERM
#   - VRE
#   - Num_VRE_Bins
#   - MUST_RUN
#   - STOR
#   - FLEX
#   - HYDRO
#   - LDS
#   - Commit
#   - ESR_1
#   - ESR_2
#   - New_Build
#   - Hydro_level
#   - CapRes_1
#   - CapRes_2
#   - Hydro_Energy_to_Power_Ratio
#   - MinCapTag_1
#   - MinCapTag_2
#   - Reg_Max
#   - Rsv_Max

# default_model_tag: 0

# model_tag_values:
#   THERM:
#     # Biomass: 1
#     # Biopower: 1
#     Coal Integrated Gasification Combined Cycle: 1
#     Conventional Steam Coal: 1
#     CSP: 1
#     # Geothermal: 1
#     Landfill Gas: 1
#     Municipal Solid Waste: 1
#     Natural Gas: 1
#     Natural Gas Fired Combined Cycle: 1
#     Natural Gas Fired Combustion Turbine: 1
#     Natural Gas Internal Combustion Engine: 1
#     Natural Gas Steam Turbine: 1
#     NGCCS100: 1
#     Nuclear: 1
#     Other Gases: 1
#     Other Natural Gas: 1
#     Other Waste Biomass: 1
#     Other_peaker: 1 # Is there any way to do this based on the underlying categories?
#     Petroleum Coke: 1
#     Petroleum Liquids: 1
#     Wood/Wood Waste Biomass: 1
#   VRE:
#     CSP: 1
#     LandbasedWind: 1
#     OffshoreWind: 1
#     Onshore Wind: 1
#     Solar Photovoltaic: 1
#     Solar Thermal without Energy Storage: 1
#     UtilityPV: 1
#   Num_VRE_Bins:
#     CSP: 1
#     LandbasedWind: 1
#     OffshoreWind: 1
#     Onshore Wind: 1
#     Solar Photovoltaic: 1
#     Solar Thermal without Energy Storage: 1
#     UtilityPV: 1
#   NDISP:
#     Biomass: 1
#     Geothermal: 1
#     Small Hydroelectric: 1
#     Wood/Wood Waste Biomass: 1
#   STOR:
#     Battery: 1
#     Hydroelectric Pumped Storage: 1
#   FLEX:
#     ev_load_shifting: 1
#   HYDRO:
#     Conventional Hydroelectric: 1
#     Hydropower: 1
#   Commit:
#     Biomass: 1
#     Biopower: 1
#     Coal Integrated Gasification Combined Cycle: 1
#     Conventional Steam Coal: 1
#     Natural Gas: 1
#     Natural Gas Fired Combined Cycle: 1
#     Natural Gas Fired Combustion Turbine: 1
#     Natural Gas Internal Combustion Engine: 1
#     Natural Gas Steam Turbine: 1
#     NGCCS100: 1
#     Nuclear: 1
#     Other_peaker : 1 # Is there any way to do this based on the underlying categories?
#     Petroleum Coke: 1
#     Petroleum Liquids: 1
#   ESR_1:
#     Biomass: 1
#     Biopower: 1
#     Conventional Hydroelectric: 0 # Need they key here to update value in 2045 cases
#     CSP: 1
#     Geothermal: 1
#     LandbasedWind: 1
#     OffshoreWind: 1
#     Onshore Wind: 1
#     Small Hydroelectric: 1
#     Solar Photovoltaic: 1
#     UtilityPV: 1
#   ESR_2:
#     Biomass: 1
#     Biopower: 1
#     Conventional Hydroelectric: 1
#     CSP: 1
#     Geothermal: 1
#     LandbasedWind: 1
#     Natural Gas CCS100: 1
#     NGCCS100: 1
#     Nuclear: 1
#     OffshoreWind: 1
#     Onshore Wind: 1
#     Small Hydroelectric: 1
#     Solar Photovoltaic: 1
#     UtilityPV: 1
#   MinCapTag_1: # Do not need to list anything here. All values will be 0 by default
#     LandbasedWind: 1
#   New_Build:
#     Battery: 1
#     Biomass: -1
#     Biopower: 1
#     Conventional Hydroelectric: -1
#     Geothermal: -1
#     LandbasedWind: 1
#     Natural Gas: 1
#     NGCCS100: 1
#     OffshoreWind: 1
#     Small Hydroelectric: -1
#     UtilityPV: 1
#     Nuclear_*: 1
#   Hydro_level:
#     Conventional Hydroelectric: 0.5
#   CapRes_1:
#     Conventional Steam Coal: 0.9
#     Natural Gas Fired Combined Cycle: 0.9
#     Natural Gas Fired Combustion Turbine: 0.9
#     Petroleum Liquids: 0.9
#     Natural Gas Internal Combustion Engine: 0.9
#     Nuclear: 0.9
#     Natural Gas Steam Turbine: 0.9
#     Wood/Wood Waste Biomass: 0.9
#     Petroleum Coke: 0.9
#     Geothermal: 0.9
#     Municipal Solid Waste: 0.9
#     Landfill Gas: 0.9
#     Coal Integrated Gasification Combined Cycle: 0.9
#     Other Waste Biomass: 0.9
#     Other Gases: 0.9
#     Other Natural Gas: 0.9
#     Other_peaker: 0.9 # Is there any way to do this based on the underlying categories?
#     Biomass: 0.9
#     NaturalGas_: 0.9
#     Biopower_: 0.9
#     Nuclear_: 0.9
#     CSP_: 0.9
#     NGCCS100: 0.9
#     OffshoreWind: 0.8
#     LandbasedWind: 0.8
#     UtilityPV: 0.8
#     Conventional Hydroelectric: 0.8
#     Onshore Wind: 0.8
#     Small Hydroelectric: 0.8
#     Solar Photovoltaic: 0.8
#     Battery: 0.95
#     Hydroelectric Pumped Storage: 0.95
#     ev_load_shifting: 0.95
#   CapRes_2:
#     Conventional Steam Coal: 0.9
#     Natural Gas Fired Combined Cycle: 0.9
#     Natural Gas Fired Combustion Turbine: 0.9
#     Petroleum Liquids: 0.9
#     Natural Gas Internal Combustion Engine: 0.9
#     Nuclear: 0.9
#     Natural Gas Steam Turbine: 0.9
#     Wood/Wood Waste Biomass: 0.9
#     Petroleum Coke: 0.9
#     Geothermal: 0.9
#     Municipal Solid Waste: 0.9
#     Landfill Gas: 0.9
#     Coal Integrated Gasification Combined Cycle: 0.9
#     Other Waste Biomass: 0.9
#     Other Gases: 0.9
#     Other Natural Gas: 0.9
#     Other_peaker: 0.9 # Is there any way to do this based on the underlying categories?
#     Biomass: 0.9
#     NaturalGas_: 0.9
#     Biopower_: 0.9
#     Nuclear_: 0.9
#     CSP_: 0.9
#     NGCCS100: 0.9
#     OffshoreWind: 0.8
#     LandbasedWind: 0.8
#     UtilityPV: 0.8
#     Conventional Hydroelectric: 0.8
#     Onshore Wind: 0.8
#     Small Hydroelectric: 0.8
#     Solar Photovoltaic: 0.8
#     Battery: 0.95
#     Hydroelectric Pumped Storage: 0.95
#     ev_load_shifting: 0.95
#   MUST_RUN:
#     Small Hydroelectric: 1
#     Geothermal: 1
#     Wood/Wood Waste Biomass: 1
#     Biomass: 1
#     distributed_generation: 1

# # Tags for a technology in a specific region
# # Format should be regional_tag_values: <region>: <tag name>: <technology>: <tag value>
# # Technologies will be matched using str.contains(), so partial names can be included
# # but they might unintentially map to other techs
# regional_tag_values:
#   CA_S:
#     New_Build:
#       Hydroelectric Pumped Storage: 1
#       Nuclear: 0
#     MinCapTag_2:
#       UtilityPV: 1
#   CA_N:
#     New_Build:
#       Nuclear: 0

# Time clustering/reduction parameters
reduce_time_domain: true # If the generator and load profiles should be clustered
time_domain_periods: 4 # The number of periods/clusters
time_domain_days_per_period: 5 # The number of 24 hour days in each period/cluster
include_peak_day: true # If the system-wide peak load days should always be included
demand_weight_factor: 1 # Demand profiles are scaled from 0-1, then scaled up using this value.

transmission_investment_cost:
  # If true, uses interconnect_annuity when available
  use_total: true
  spur:
    capex_mw_mile:
      CA_N: 8775 # 2.5x the rest of WECC
      CA_S: 8775 # 2.5x the rest of WECC
      # WECC_AZ: 3900
    wacc: 0.044
    investment_years: 60
  offshore_spur:
    # If missing, NREL ATB capex_mw_mile is used
    capex_mw_mile:
    wacc: 0.044
    investment_years: 60
  tx:
    capex_mw_mile:
      CA_N: 3037.5 # 2.5x the rest of WECC
      CA_S: 3037.5 # 2.5x the rest of WECC
      # WECC_AZ: 1350
    wacc: 0.044
    investment_years: 60
# Percent expansion in planning period above and beyond existing transmission
tx_expansion_per_period: 1.0

tx_line_loss_100_miles: 0.01

partial_ces: false