stages:
  _check-env-decider:
    cmd: calkit check environment --name decider
    deps:
      - envs/calkit-environment.yml
    outs:
      - .calkit/env-locks/decider.yml:
          cache: false
          persist: true
    always_changed: true
    desc: Automatically generated by Calkit. Changes made here will be
      overwritten.
  _clean-nb-setup-sweep:
    cmd: calkit nb clean "modules/CEM/make_additional_tech_csv.ipynb"
    deps:
      - modules/CEM/make_additional_tech_csv.ipynb
    outs:
      - .calkit/notebooks/cleaned/modules/CEM/make_additional_tech_csv.ipynb:
          cache: false
    desc: Automatically generated from the 'setup-sweep' stage in 
      calkit.yaml. Changes made here will be overwritten.
  setup-sweep:
    cmd: calkit nb execute --environment decider --no-check --to html 
      "modules/CEM/make_additional_tech_csv.ipynb"
    deps:
      - .calkit/notebooks/cleaned/modules/CEM/make_additional_tech_csv.ipynb
      - modules/CEM/template/cost_mult_tech_map.yml
      - .calkit/env-locks/decider.yml
    outs:
      - modules/CEM/data_east/wave_profiles
      - modules/CEM/data_east/settings/settings_management.yml
      - modules/CEM/data_east/scenario_input.csv
      - modules/CEM/data_east/settings/cost_mult_tech_map_updated.yml
      - .calkit/notebooks/executed/modules/CEM/make_additional_tech_csv.ipynb:
          cache: false
      - .calkit/notebooks/html/modules/CEM/make_additional_tech_csv.html:
          cache: false
    desc: Automatically generated from the 'setup-sweep' stage in 
      calkit.yaml. Changes made here will be overwritten.
  _clean-nb-analyze-results:
    cmd: calkit nb clean "modules/CEM/analyze_results.ipynb"
    deps:
      - modules/CEM/analyze_results.ipynb
    outs:
      - .calkit/notebooks/cleaned/modules/CEM/analyze_results.ipynb:
          cache: false
    desc: Automatically generated from the 'analyze-results' stage in 
      calkit.yaml. Changes made here will be overwritten.
  analyze-results:
    cmd: calkit nb execute --environment decider --no-check --to html 
      "modules/CEM/analyze_results.ipynb"
    deps:
      - .calkit/notebooks/cleaned/modules/CEM/analyze_results.ipynb
      - modules/CEM/data_east/cases/Case_1/results/
      - modules/CEM/data_east/cases/Case_2/results/
      - modules/CEM/data_east/cases/Case_3/results/
      - modules/CEM/data_east/cases/Case_4/results/
      - modules/CEM/data_east/cases/Case_5/results/
      - modules/CEM/data_east/scenario_input.csv
      - .calkit/env-locks/decider.yml
    outs:
      - .calkit/notebooks/executed/modules/CEM/analyze_results.ipynb:
          cache: false
      - .calkit/notebooks/html/modules/CEM/analyze_results.html:
          cache: false
    desc: Automatically generated from the 'analyze-results' stage in 
      calkit.yaml. Changes made here will be overwritten.

